<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

    <!-- iOS meta tags -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"/>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="stylesheet" type="text/css" href="papaya.css?build=1450" />
    <script type="text/javascript" src="papaya.js?build=1450"></script>

    <title>Papaya Viewer</title>

    <script type="text/javascript">

        var params = [];

        params["worldSpace"] = true;
        params["images"] = ["NII/c1s0010236252-0101-00001-000001-01.nii"];


    </script>

</head>

<body>




<div style="color:blue;margin-left:30px;margin-top: 30px;float: left; width: 10%;" id="list">

    <input id="clickMe" type="button" value="clickme" onclick="viewimage('NII/c2s0010236252-0101-00001-000001-01.nii');" />

</div>

<div class="papaya" data-params="params" >

</div>


<script type="text/javascript">

    // Function to add / remove image from viewer
    function viewimage(mrimage) {

        var params = []
        // Reset viewer and load new images
        $(".viewimage").removeClass("active")

        //var tmpname = $(mrimage).attr("filename").replace(/^.*[\\\/]/, '')
        /*
                    if ($(mrimage).attr("type") == "atlas" || $(mrimage).attr("type") == "parcellation") {
                        params["images"] = ["/static/images/" + $(mrimage).attr("target_template_image") + ".nii.gz", $(mrimage).attr("filename")];
                        params[tmpname] = {"parametric": true,  "lut":"Spectrum", "alpha":"0.75",  minPercent: 0.0, maxPercent: 1.0};
                    } else if ($(mrimage).attr("type") == "ROI/mask") {
                        params["images"] = ["/static/images/" + $(mrimage).attr("target_template_image") + ".nii.gz",$(mrimage).attr("filename")];
                        params[tmpname] = {"parametric": true,  "lut":"Overlay (Negatives)", "alpha":"0.75",  minPercent: 0.0, maxPercent: 1.0};
                    } else if ($(mrimage).attr("type") == "anatomical") {
                        params["images"] = [$(mrimage).attr("filename")];
                    } else if ($(mrimage).attr("data_origin") == "surface"){
                        params["images"] = ["/static/images/" + $(mrimage).attr("target_template_image") + ".nii.gz",$(mrimage).attr("filename")];
                        params[tmpname] = {"parametric": true,  "min":0, "lut":"OrRd", "negative_lut":"PuBu", "alpha":"0.75", "symmetric":true, minPercent: 0.0, maxPercent: 1.0};
                    } else {
                        params["images"] = ["/static/images/" + $(mrimage).attr("target_template_image") + ".nii.gz",$(mrimage).attr("filename")];
                        params[tmpname] = {"parametric": true,  "min":0, "lut":"OrRd", "negative_lut":"PuBu", "alpha":"0.75", "symmetric":true};
                    }
        */
        params["worldSpace"] = true;
        params["expandable"] = true;
        params["combineParametric"] = true;
        params["showControls"] = false;
        params["smoothDisplay"] = false;
        params["images"] = [mrimage];

        papaya.Container.resetViewer(0, params);  // specify new ones
        $(mrimage).addClass("active")

    }
    //};

</script>

</body>
</html>
